623e94df8b220e8902e89f33b552285e
const cache = require('./cache');
const {
  wpClient,
  getWcAuthHeader,
  getLdAuthHeader
} = require('./http');
const config = require('../config');
const CACHE_TTL = 3600; // 1 hour

const getProduct = async id => {
  const cacheKey = `sistemagigantes:bff:product:${id}`;
  const redis = cache.getClient();

  // Cache Aside
  const cached = await redis.get(cacheKey);
  if (cached) {
    return JSON.parse(cached);
  }
  try {
    // Fetch Product from WooCommerce
    const wcRes = await wpClient.get(`/wc/v3/products/${id}`, {
      headers: {
        Authorization: getWcAuthHeader()
      }
    });
    const product = wcRes.data;

    // Extract Related Courses (using metadata)
    // According to report: meta_key: '_related_course'
    // meta_value: "a:4:{i:0;i:2553;i:1;i:2327;i:2;i:2324;i:3;i:1836;}" (PHP Serialized)
    // We might not be able to easily deserialize PHP in JS without a library.
    // Alternative: If LearnDash/WC exposes this in a better way.
    // Or we use a regex or a simple parser if it's just an array of IDs.

    let relatedCourses = [];
    const relatedCourseMeta = product.meta_data.find(m => m.key === '_related_course');
    if (relatedCourseMeta && typeof relatedCourseMeta.value === 'string') {
      // Simple regex to extract integers from the serialized string
      // Matches i:<integer>; or s:<length>:"<value>"; (but here we expect IDs)
      // Example: i:2553;
      const matches = relatedCourseMeta.value.match(/i:(\d+);/g);
      if (matches) {
        relatedCourses = matches.map(m => parseInt(m.match(/i:(\d+);/)[1]));
      }
    } else if (relatedCourseMeta && Array.isArray(relatedCourseMeta.value)) {
      // Sometimes API returns it deserialized (less likely for this plugin)
      relatedCourses = relatedCourseMeta.value;
    }

    // Fetch Courses Details (Optimized: Parallel or Single call if supported)
    // LD API: /ldlms/v2/sfwd-courses/<id>
    // Use Promise.all
    const courses = await Promise.all(relatedCourses.map(async courseId => {
      try {
        // Check cache for individual course first? 
        // Report says: sistemagigantes:bff:product:{id} caches everything.
        // We'll just fetch.
        const courseRes = await wpClient.get(`/ldlms/v2/sfwd-courses/${courseId}`, {
          headers: {
            Authorization: getLdAuthHeader()
          }
        });
        return {
          id: courseRes.data.id,
          title: courseRes.data.title && courseRes.data.title.rendered,
          link: courseRes.data.link
        };
      } catch (err) {
        if (err.response && err.response.status === 404) {
          return {
            id: courseId,
            error: 'Course not found (404)'
          };
        }
        console.error(`Failed to fetch course ${courseId}:`, err.message);
        return {
          id: courseId,
          error: err.message || 'Failed to load course data'
        };
      }
    }));
    const response = {
      id: product.id,
      name: product.name,
      slug: product.slug,
      price: product.price,
      status: product.status,
      related_courses: courses
    };

    // Save to Redis
    await redis.set(cacheKey, JSON.stringify(response), 'EX', CACHE_TTL);
    return response;
  } catch (error) {
    if (error.response && error.response.status === 404) {
      throw new Error('Product not found');
    }
    throw error;
  }
};
module.exports = {
  getProduct
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYWNoZSIsInJlcXVpcmUiLCJ3cENsaWVudCIsImdldFdjQXV0aEhlYWRlciIsImdldExkQXV0aEhlYWRlciIsImNvbmZpZyIsIkNBQ0hFX1RUTCIsImdldFByb2R1Y3QiLCJpZCIsImNhY2hlS2V5IiwicmVkaXMiLCJnZXRDbGllbnQiLCJjYWNoZWQiLCJnZXQiLCJKU09OIiwicGFyc2UiLCJ3Y1JlcyIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwicHJvZHVjdCIsImRhdGEiLCJyZWxhdGVkQ291cnNlcyIsInJlbGF0ZWRDb3Vyc2VNZXRhIiwibWV0YV9kYXRhIiwiZmluZCIsIm0iLCJrZXkiLCJ2YWx1ZSIsIm1hdGNoZXMiLCJtYXRjaCIsIm1hcCIsInBhcnNlSW50IiwiQXJyYXkiLCJpc0FycmF5IiwiY291cnNlcyIsIlByb21pc2UiLCJhbGwiLCJjb3Vyc2VJZCIsImNvdXJzZVJlcyIsInRpdGxlIiwicmVuZGVyZWQiLCJsaW5rIiwiZXJyIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwibmFtZSIsInNsdWciLCJwcmljZSIsInJlbGF0ZWRfY291cnNlcyIsInNldCIsInN0cmluZ2lmeSIsIkVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2FjaGUgPSByZXF1aXJlKCcuL2NhY2hlJyk7XG5jb25zdCB7IHdwQ2xpZW50LCBnZXRXY0F1dGhIZWFkZXIsIGdldExkQXV0aEhlYWRlciB9ID0gcmVxdWlyZSgnLi9odHRwJyk7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuLi9jb25maWcnKTtcblxuY29uc3QgQ0FDSEVfVFRMID0gMzYwMDsgLy8gMSBob3VyXG5cbmNvbnN0IGdldFByb2R1Y3QgPSBhc3luYyAoaWQpID0+IHtcbiAgICBjb25zdCBjYWNoZUtleSA9IGBzaXN0ZW1hZ2lnYW50ZXM6YmZmOnByb2R1Y3Q6JHtpZH1gO1xuICAgIGNvbnN0IHJlZGlzID0gY2FjaGUuZ2V0Q2xpZW50KCk7XG5cbiAgICAvLyBDYWNoZSBBc2lkZVxuICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IHJlZGlzLmdldChjYWNoZUtleSk7XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShjYWNoZWQpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIC8vIEZldGNoIFByb2R1Y3QgZnJvbSBXb29Db21tZXJjZVxuICAgICAgICBjb25zdCB3Y1JlcyA9IGF3YWl0IHdwQ2xpZW50LmdldChgL3djL3YzL3Byb2R1Y3RzLyR7aWR9YCwge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGdldFdjQXV0aEhlYWRlcigpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0gd2NSZXMuZGF0YTtcblxuICAgICAgICAvLyBFeHRyYWN0IFJlbGF0ZWQgQ291cnNlcyAodXNpbmcgbWV0YWRhdGEpXG4gICAgICAgIC8vIEFjY29yZGluZyB0byByZXBvcnQ6IG1ldGFfa2V5OiAnX3JlbGF0ZWRfY291cnNlJ1xuICAgICAgICAvLyBtZXRhX3ZhbHVlOiBcImE6NDp7aTowO2k6MjU1MztpOjE7aToyMzI3O2k6MjtpOjIzMjQ7aTozO2k6MTgzNjt9XCIgKFBIUCBTZXJpYWxpemVkKVxuICAgICAgICAvLyBXZSBtaWdodCBub3QgYmUgYWJsZSB0byBlYXNpbHkgZGVzZXJpYWxpemUgUEhQIGluIEpTIHdpdGhvdXQgYSBsaWJyYXJ5LlxuICAgICAgICAvLyBBbHRlcm5hdGl2ZTogSWYgTGVhcm5EYXNoL1dDIGV4cG9zZXMgdGhpcyBpbiBhIGJldHRlciB3YXkuXG4gICAgICAgIC8vIE9yIHdlIHVzZSBhIHJlZ2V4IG9yIGEgc2ltcGxlIHBhcnNlciBpZiBpdCdzIGp1c3QgYW4gYXJyYXkgb2YgSURzLlxuXG4gICAgICAgIGxldCByZWxhdGVkQ291cnNlcyA9IFtdO1xuICAgICAgICBjb25zdCByZWxhdGVkQ291cnNlTWV0YSA9IHByb2R1Y3QubWV0YV9kYXRhLmZpbmQobSA9PiBtLmtleSA9PT0gJ19yZWxhdGVkX2NvdXJzZScpO1xuXG4gICAgICAgIGlmIChyZWxhdGVkQ291cnNlTWV0YSAmJiB0eXBlb2YgcmVsYXRlZENvdXJzZU1ldGEudmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBTaW1wbGUgcmVnZXggdG8gZXh0cmFjdCBpbnRlZ2VycyBmcm9tIHRoZSBzZXJpYWxpemVkIHN0cmluZ1xuICAgICAgICAgICAgLy8gTWF0Y2hlcyBpOjxpbnRlZ2VyPjsgb3Igczo8bGVuZ3RoPjpcIjx2YWx1ZT5cIjsgKGJ1dCBoZXJlIHdlIGV4cGVjdCBJRHMpXG4gICAgICAgICAgICAvLyBFeGFtcGxlOiBpOjI1NTM7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gcmVsYXRlZENvdXJzZU1ldGEudmFsdWUubWF0Y2goL2k6KFxcZCspOy9nKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgcmVsYXRlZENvdXJzZXMgPSBtYXRjaGVzLm1hcChtID0+IHBhcnNlSW50KG0ubWF0Y2goL2k6KFxcZCspOy8pWzFdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVsYXRlZENvdXJzZU1ldGEgJiYgQXJyYXkuaXNBcnJheShyZWxhdGVkQ291cnNlTWV0YS52YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIFNvbWV0aW1lcyBBUEkgcmV0dXJucyBpdCBkZXNlcmlhbGl6ZWQgKGxlc3MgbGlrZWx5IGZvciB0aGlzIHBsdWdpbilcbiAgICAgICAgICAgIHJlbGF0ZWRDb3Vyc2VzID0gcmVsYXRlZENvdXJzZU1ldGEudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGZXRjaCBDb3Vyc2VzIERldGFpbHMgKE9wdGltaXplZDogUGFyYWxsZWwgb3IgU2luZ2xlIGNhbGwgaWYgc3VwcG9ydGVkKVxuICAgICAgICAvLyBMRCBBUEk6IC9sZGxtcy92Mi9zZndkLWNvdXJzZXMvPGlkPlxuICAgICAgICAvLyBVc2UgUHJvbWlzZS5hbGxcbiAgICAgICAgY29uc3QgY291cnNlcyA9IGF3YWl0IFByb21pc2UuYWxsKHJlbGF0ZWRDb3Vyc2VzLm1hcChhc3luYyAoY291cnNlSWQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgY2FjaGUgZm9yIGluZGl2aWR1YWwgY291cnNlIGZpcnN0PyBcbiAgICAgICAgICAgICAgICAvLyBSZXBvcnQgc2F5czogc2lzdGVtYWdpZ2FudGVzOmJmZjpwcm9kdWN0OntpZH0gY2FjaGVzIGV2ZXJ5dGhpbmcuXG4gICAgICAgICAgICAgICAgLy8gV2UnbGwganVzdCBmZXRjaC5cbiAgICAgICAgICAgICAgICBjb25zdCBjb3Vyc2VSZXMgPSBhd2FpdCB3cENsaWVudC5nZXQoYC9sZGxtcy92Mi9zZndkLWNvdXJzZXMvJHtjb3Vyc2VJZH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGdldExkQXV0aEhlYWRlcigpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpZDogY291cnNlUmVzLmRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBjb3Vyc2VSZXMuZGF0YS50aXRsZSAmJiBjb3Vyc2VSZXMuZGF0YS50aXRsZS5yZW5kZXJlZCxcbiAgICAgICAgICAgICAgICAgICAgbGluazogY291cnNlUmVzLmRhdGEubGlua1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlICYmIGVyci5yZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBpZDogY291cnNlSWQsIGVycm9yOiAnQ291cnNlIG5vdCBmb3VuZCAoNDA0KScgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIGNvdXJzZSAke2NvdXJzZUlkfTpgLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgaWQ6IGNvdXJzZUlkLCBlcnJvcjogZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBsb2FkIGNvdXJzZSBkYXRhJyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgICAgICAgIG5hbWU6IHByb2R1Y3QubmFtZSxcbiAgICAgICAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcbiAgICAgICAgICAgIHByaWNlOiBwcm9kdWN0LnByaWNlLFxuICAgICAgICAgICAgc3RhdHVzOiBwcm9kdWN0LnN0YXR1cyxcbiAgICAgICAgICAgIHJlbGF0ZWRfY291cnNlczogY291cnNlc1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNhdmUgdG8gUmVkaXNcbiAgICAgICAgYXdhaXQgcmVkaXMuc2V0KGNhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShyZXNwb25zZSksICdFWCcsIENBQ0hFX1RUTCk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2R1Y3Qgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcblxu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